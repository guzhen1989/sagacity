# 快速入门

<cite>
**本文档引用的文件**   
- [README.md](file://README.md)
- [requirements.txt](file://requirements.txt)
- [pyproject.toml](file://pyproject.toml)
- [app/main.py](file://app/main.py)
- [.env.example](file://.env.example)
- [Dockerfile.backend](file://Dockerfile.backend)
- [Dockerfile.frontend](file://Dockerfile.frontend)
- [docker-compose.yml](file://docker-compose.yml)
- [docs/QUICK_START.md](file://docs/QUICK_START.md)
- [docs/installation-mirror.md](file://docs/installation-mirror.md)
</cite>

## 目录
1. [安装前准备](#安装前准备)
2. [安装部署](#安装部署)
3. [初始配置](#初始配置)
4. [验证安装](#验证安装)
5. [端到端示例](#端到端示例)
6. [操作系统注意事项](#操作系统注意事项)

## 安装前准备

在安装sagacity系统之前，您需要准备以下依赖项：

### Python环境
- **Python版本**: 3.10或更高版本
- **推荐工具**: 使用虚拟环境（venv）来隔离项目依赖
- **安装方法**: 从[Python官网](https://www.python.org/)下载并安装

### Node.js
- **Node.js版本**: 22.x（与项目开发环境一致）
- **用途**: 用于前端构建和运行
- **安装方法**: 从[Node.js官网](https://nodejs.org/)下载并安装

### Docker
- **Docker版本**: 支持Docker 20.10.0及以上版本
- **Docker Compose**: 需要Docker Compose v2.0.0或更高版本
- **用途**: 用于容器化部署，实现环境隔离和一键启动
- **安装方法**: 从[Docker官网](https://www.docker.com/)下载并安装Docker Desktop

### 其他依赖
- **Git**: 用于克隆项目代码库
- **Pandoc**: 用于文档格式转换，支持导出报告功能
- **wkhtmltopdf**: 用于PDF生成工具
- **中文字体**: 用于PDF中文显示

**Section sources**
- [README.md](file://README.md#L4-318)
- [requirements.txt](file://requirements.txt#L1-58)
- [pyproject.toml](file://pyproject.toml#L1-99)

## 安装部署

sagacity系统提供两种安装方式：Docker安装和源码安装。以下是详细的安装步骤。

### Docker安装（推荐）

Docker安装方式适合所有用户，特别是新手用户，具有环境隔离、稳定可靠的优势。

```bash
# 1. 克隆项目
git clone https://github.com/hsliuping/TradingAgents-CN.git
cd TradingAgents-CN

# 2. 配置API密钥
cp .env.example .env
# 编辑.env文件，添加您的API密钥

# 3. 启动服务
docker-compose up -d

# 4. 访问应用
# 浏览器打开: http://localhost:8501
```

### 源码安装

源码安装方式适合开发者和高级用户，具有更多控制权，便于开发调试。

```bash
# 1. 克隆项目
git clone https://github.com/hsliuping/TradingAgents-CN.git
cd TradingAgents-CN

# 2. 创建虚拟环境
python -m venv env

# 3. 激活虚拟环境
# Windows: env\Scripts\activate
# macOS/Linux: source env/bin/activate

# 4. 安装依赖
pip install -r requirements.txt

# 5. 配置API密钥
cp .env.example .env
# 编辑.env文件，添加您的API密钥

# 6. 启动应用
python -m streamlit run web/app.py
```

**Section sources**
- [README.md](file://README.md#L73-82)
- [docs/QUICK_START.md](file://docs/QUICK_START.md#L7-52)
- [docker-compose.yml](file://docker-compose.yml#L1-209)
- [Dockerfile.backend](file://Dockerfile.backend#L1-89)
- [Dockerfile.frontend](file://Dockerfile.frontend#L1-47)

## 初始配置

安装完成后，需要进行初始配置，包括环境变量设置和API密钥配置。

### 环境变量设置

编辑`.env`文件，配置以下环境变量：

```bash
# 选择一个AI模型（必须）
DEEPSEEK_API_KEY=sk-your-deepseek-key-here

# 或者使用通义千问
# DASHSCOPE_API_KEY=your-dashscope-key-here

# 或者使用OpenAI
# OPENAI_API_KEY=sk-your-openai-key-here

# A股数据源（推荐）
TUSHARE_TOKEN=your-tushare-token-here

# 数据库（可选，提升性能）
MONGODB_ENABLED=false
REDIS_ENABLED=false
```

### API密钥配置

- **DeepSeek API密钥**: 从[DeepSeek平台](https://platform.deepseek.com/)获取
- **通义千问API密钥**: 从[阿里云百炼](https://dashscope.aliyun.com/)获取
- **OpenAI API密钥**: 从[OpenAI平台](https://platform.openai.com/)获取
- **Tushare Token**: 从[Tushare平台](https://tushare.pro/)获取

**Section sources**
- [.env.example](file://.env.example#L1-555)
- [docs/QUICK_START.md](file://docs/QUICK_START.md#L60-106)

## 验证安装

安装和配置完成后，需要验证系统是否正常运行。

### 访问Web界面

打开浏览器访问: http://localhost:8501

### 测试分析功能

- 输入股票代码（如：`000001`、`AAPL`、`0700.HK`）
- 选择分析师团队
- 点击"开始分析"

### 检查日志

```bash
# Docker环境
docker-compose logs web

# 本地环境
tail -f logs/tradingagents.log
```

**Section sources**
- [docs/QUICK_START.md](file://docs/QUICK_START.md#L108-125)

## 端到端示例

以下是一个完整的端到端示例，从系统启动到执行第一次股票分析。

### 启动系统

```bash
# 启动Docker服务
docker-compose up -d

# 访问Web界面
http://localhost:8501
```

### 执行股票分析

1. 在Web界面输入股票代码 `000001`
2. 选择市场类型为"A股"
3. 选择研究深度为"1级（快速测试）"
4. 选择分析师为"市场分析师 + 基本面分析师"
5. 点击"开始分析"

### 查看分析结果

分析完成后，系统会生成详细的分析报告，包括市场报告、基本面报告和投资计划。您可以导出PDF或Word格式的报告。

**Section sources**
- [docs/QUICK_START.md](file://docs/QUICK_START.md#L127-153)

## 操作系统注意事项

不同操作系统在安装和使用sagacity系统时有一些特定的注意事项。

### Windows

- **Python安装**: 建议使用Python 3.10或更高版本，并勾选"Add Python to PATH"
- **Docker**: 建议使用Docker Desktop for Windows
- **虚拟环境**: 使用`env\Scripts\activate`命令激活虚拟环境

### Linux

- **Python安装**: 使用包管理器安装Python 3.10或更高版本
- **Docker**: 使用Docker CE
- **虚拟环境**: 使用`source env/bin/activate`命令激活虚拟环境

### macOS

- **Python安装**: 使用Homebrew安装Python 3.10或更高版本
- **Docker**: 使用Docker Desktop for Mac
- **虚拟环境**: 使用`source env/bin/activate`命令激活虚拟环境

**Section sources**
- [README.md](file://README.md#L165-167)
- [docs/installation-mirror.md](file://docs/installation-mirror.md#L52-62)