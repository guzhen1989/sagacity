# åƒå¸†å¤§æ¨¡å‹é…ç½®

<cite>
**æœ¬æ–‡æ¡£å¼•ç”¨æ–‡ä»¶**   
- [openai_compatible_base.py](file://tradingagents/llm_adapters/openai_compatible_base.py)
- [QIANFAN_INTEGRATION_GUIDE.md](file://docs/llm/QIANFAN_INTEGRATION_GUIDE.md)
- [test_qianfan_connect.py](file://scripts/test_qianfan_connect.py)
- [test_qianfan_raw.py](file://scripts/test_qianfan_raw.py)
- [config_service.py](file://app/services/config_service.py)
- [api_checker.py](file://web/utils/api_checker.py)
- [api_key_utils.py](file://app/utils/api_key_utils.py)
- [trading_graph.py](file://tradingagents/graph/trading_graph.py)
</cite>

## ç›®å½•
1. [ç®€ä»‹](#ç®€ä»‹)
2. [è®¤è¯é…ç½®](#è®¤è¯é…ç½®)
3. [ç³»ç»Ÿé›†æˆæœºåˆ¶](#ç³»ç»Ÿé›†æˆæœºåˆ¶)
4. [é…ç½®ç¤ºä¾‹](#é…ç½®ç¤ºä¾‹)
5. [æ€§èƒ½ä¼˜åŒ–å»ºè®®](#æ€§èƒ½ä¼˜åŒ–å»ºè®®)
6. [æ•…éšœè½¬ç§»æœºåˆ¶](#æ•…éšœè½¬ç§»æœºåˆ¶)
7. [ç»“è®º](#ç»“è®º)

## ç®€ä»‹

åƒå¸†å¤§æ¨¡å‹ï¼ˆQianFanï¼‰æ˜¯ç™¾åº¦æ¨å‡ºçš„æ–‡å¿ƒä¸€è¨€ç³»åˆ—å¤§è¯­è¨€æ¨¡å‹å¹³å°ã€‚æœ¬é…ç½®æ–‡æ¡£è¯¦ç»†è¯´æ˜äº†å¦‚ä½•åœ¨ç³»ç»Ÿä¸­é…ç½®å’Œä½¿ç”¨åƒå¸†å¤§æ¨¡å‹ï¼ŒåŒ…æ‹¬è®¤è¯å¯†é’¥é…ç½®ã€ç³»ç»Ÿé›†æˆæœºåˆ¶ã€å¤šæ¨¡å‹é€‰æ‹©ã€å‚æ•°è°ƒä¼˜ã€æ€§èƒ½ä¼˜åŒ–ä»¥åŠæ•…éšœè½¬ç§»ç­–ç•¥ã€‚

ç³»ç»Ÿé€šè¿‡OpenAIå…¼å®¹é€‚é…å™¨æ¨¡å¼é›†æˆåƒå¸†å¤§æ¨¡å‹ï¼Œæ”¯æŒæœ€æ–°çš„API Keyè®¤è¯æ–¹å¼ï¼ŒåŒæ—¶ä¿ç•™äº†å¯¹ä¼ ç»ŸAK/SKè®¤è¯æ–¹å¼çš„å…¼å®¹æ€§ã€‚è¿™ç§è®¾è®¡ç®€åŒ–äº†é…ç½®æµç¨‹ï¼Œæé«˜äº†ç³»ç»Ÿçš„å®‰å…¨æ€§å’Œæ˜“ç”¨æ€§ã€‚

**Section sources**
- [QIANFAN_INTEGRATION_GUIDE.md](file://docs/llm/QIANFAN_INTEGRATION_GUIDE.md#æ¦‚è¿°)

## è®¤è¯é…ç½®

### ç™¾åº¦äº‘è®¤è¯å¯†é’¥é…ç½®

åƒå¸†å¤§æ¨¡å‹æ”¯æŒä¸¤ç§è®¤è¯æ–¹å¼ï¼šæ¨èçš„API Keyæ–¹å¼å’Œä¼ ç»Ÿçš„AK/SKæ–¹å¼ã€‚

#### æ¨èæ–¹å¼ï¼šAPI Keyè®¤è¯

æ¨èä½¿ç”¨å•ä¸€çš„API Keyè¿›è¡Œè®¤è¯ï¼Œè¿™æ˜¯åƒå¸†æ–°ä¸€ä»£APIçš„æ ‡å‡†æ–¹å¼ã€‚

**ç¯å¢ƒå˜é‡é…ç½®**ï¼š
```bash
# .env æ–‡ä»¶
QIANFAN_API_KEY=bce-v3/ALTAK-xxxx/xxxx
```

API Keyçš„æ ¼å¼é€šå¸¸ä»¥`bce-v3/`å¼€å¤´ï¼Œç³»ç»Ÿåœ¨åˆå§‹åŒ–æ—¶ä¼šéªŒè¯æ­¤æ ¼å¼çš„æ­£ç¡®æ€§ã€‚å¦‚æœæ ¼å¼ä¸æ­£ç¡®ï¼Œå°†æŠ›å‡ºæ˜ç¡®çš„é”™è¯¯æç¤ºã€‚

**Section sources**
- [QIANFAN_INTEGRATION_GUIDE.md](file://docs/llm/QIANFAN_INTEGRATION_GUIDE.md#æ¨èæ¥å…¥æ¨¡å¼ï¼šOpenAI-å…¼å®¹ï¼ˆä»…éœ€-QIANFAN_API_KEYï¼‰)
- [openai_compatible_base.py](file://tradingagents/llm_adapters/openai_compatible_base.py#L288-L292)

#### ä¼ ç»Ÿæ–¹å¼ï¼šAK/SKè®¤è¯

å¯¹äºéœ€è¦å¯¹æ¥å†å²è„šæœ¬æˆ–ç‰¹å®šAPIçš„åœºæ™¯ï¼Œä»å¯ä½¿ç”¨AK/SKæ–¹å¼è·å–Access Tokenã€‚

**ç¯å¢ƒå˜é‡é…ç½®**ï¼š
```bash
# .env æ–‡ä»¶
QIANFAN_ACCESS_KEY=your_access_key
QIANFAN_SECRET_KEY=your_secret_key
```

ç³»ç»Ÿä¼šè‡ªåŠ¨å°†AK/SKç»„åˆæˆBearer Tokenæ ¼å¼ï¼š`bce-v3/{access_key}/{secret_key}`ã€‚

**Section sources**
- [QIANFAN_INTEGRATION_GUIDE.md](file://docs/llm/QIANFAN_INTEGRATION_GUIDE.md#å¯é€‰ï¼šåŸç”Ÿ-AK/SK-+-Access-Tokenï¼ˆå†å²è¯´æ˜ï¼‰)
- [test_qianfan_raw.py](file://scripts/test_qianfan_raw.py#L89-L90)

### é¡¹ç›®IDé…ç½®

åœ¨æœ¬ç³»ç»Ÿä¸­ï¼Œé¡¹ç›®IDçš„æ¦‚å¿µå·²è¢«ç»Ÿä¸€çš„API Keyæ‰€å–ä»£ã€‚API Keyæœ¬èº«åŒ…å«äº†é¡¹ç›®å’Œæƒé™ä¿¡æ¯ï¼Œæ— éœ€å•ç‹¬é…ç½®é¡¹ç›®IDã€‚

å½“é€šè¿‡Webç•Œé¢é…ç½®æ—¶ï¼Œç³»ç»Ÿä¼šå°†API Keyä¸ç‰¹å®šçš„æ¨¡å‹æä¾›å•†é…ç½®å…³è”ï¼Œå®ç°ç±»ä¼¼é¡¹ç›®IDçš„ç®¡ç†åŠŸèƒ½ã€‚

**Section sources**
- [QIANFAN_INTEGRATION_GUIDE.md](file://docs/llm/QIANFAN_INTEGRATION_GUIDE.md#æ¨èæ¥å…¥æ¨¡å¼ï¼šOpenAI-å…¼å®¹ï¼ˆä»…éœ€-QIANFAN_API_KEYï¼‰)

## ç³»ç»Ÿé›†æˆæœºåˆ¶

### è¯·æ±‚ç­¾åæœºåˆ¶

åƒå¸†å¤§æ¨¡å‹çš„è¯·æ±‚ç­¾åé€šè¿‡HTTP Authorizationå¤´å®ç°ï¼Œä½¿ç”¨Bearer Tokenæ¨¡å¼ã€‚

**è¯·æ±‚å¤´ç¤ºä¾‹**ï¼š
```http
Authorization: Bearer bce-v3/ALTAK-xxx/xxx
Content-Type: application/json
```

ç³»ç»Ÿåœ¨å‘é€è¯·æ±‚å‰ä¼šè‡ªåŠ¨æ„é€ æ­£ç¡®çš„Authorizationå¤´ã€‚å¦‚æœæä¾›äº†API Keyï¼Œåˆ™ç›´æ¥ä½¿ç”¨ï¼›å¦‚æœæä¾›äº†AK/SKï¼Œåˆ™ç»„åˆæˆæ ‡å‡†æ ¼å¼ã€‚

```mermaid
sequenceDiagram
participant Client as "å®¢æˆ·ç«¯"
participant Adapter as "é€‚é…å™¨"
participant API as "åƒå¸†API"
Client->>Adapter : åˆ›å»ºLLMå®ä¾‹
activate Adapter
Adapter->>Adapter : æ£€æŸ¥API Keyæœ‰æ•ˆæ€§
alt API Keyæœ‰æ•ˆ
Adapter->>Adapter : æ„é€ Bearer Token
else API Keyæ— æ•ˆ
Adapter->>Client : æŠ›å‡ºé…ç½®é”™è¯¯å¼‚å¸¸
deactivate Adapter
return
end
Adapter->>API : å‘é€å¸¦Authorizationå¤´çš„è¯·æ±‚
API-->>Adapter : è¿”å›å“åº”
deactivate Adapter
Client->>Client : å¤„ç†å“åº”ç»“æœ
```

**Diagram sources**
- [openai_compatible_base.py](file://tradingagents/llm_adapters/openai_compatible_base.py#L294-L298)
- [test_qianfan_raw.py](file://scripts/test_qianfan_raw.py#L95-L98)

### ç‰¹æ®Šå¤´ä¿¡æ¯å¤„ç†

ç³»ç»Ÿåœ¨ä¸åƒå¸†APIé€šä¿¡æ—¶ï¼Œä¼šè®¾ç½®ä»¥ä¸‹ç‰¹æ®Šå¤´ä¿¡æ¯ï¼š

- **Content-Type**: `application/json` - ç¡®ä¿è¯·æ±‚ä½“ä¸ºJSONæ ¼å¼
- **Authorization**: `Bearer {token}` - åŒ…å«è®¤è¯ä¿¡æ¯
- **User-Agent**: ç³»ç»Ÿä¼šè‡ªåŠ¨æ·»åŠ ç”¨æˆ·ä»£ç†ä¿¡æ¯ï¼Œç”¨äºAPIè°ƒç”¨ç»Ÿè®¡å’Œç›‘æ§

å¯¹äºå“åº”å¤„ç†ï¼Œç³»ç»Ÿä¼šç‰¹åˆ«å…³æ³¨ä»¥ä¸‹å¤´ä¿¡æ¯ï¼š
- **X-Rate-Limit**: ç”¨äºå®ç°æ™ºèƒ½çš„é€Ÿç‡é™åˆ¶å’Œé‡è¯•ç­–ç•¥
- **Retry-After**: åœ¨é™æµæƒ…å†µä¸‹ï¼Œæ ¹æ®æ­¤å¤´ä¿¡æ¯è¿›è¡Œé€€é¿é‡è¯•

**Section sources**
- [test_qianfan_raw.py](file://scripts/test_qianfan_raw.py#L95-L98)
- [openai_compatible_base.py](file://tradingagents/llm_adapters/openai_compatible_base.py#L294-L298)

## é…ç½®ç¤ºä¾‹

### å¤šæ¨¡å‹é€‰æ‹©

ç³»ç»Ÿæ”¯æŒå¤šç§åƒå¸†æ¨¡å‹ï¼Œå¯ä»¥é€šè¿‡æ¨¡å‹åç§°è¿›è¡Œé€‰æ‹©ã€‚ä»¥ä¸‹æ˜¯æ”¯æŒçš„å¸¸è§æ¨¡å‹ï¼š

| æ¨¡å‹åç§° | ä¸Šä¸‹æ–‡é•¿åº¦ | åŠŸèƒ½ç‰¹ç‚¹ |
|---------|----------|---------|
| ernie-3.5-8k | 5120 | é»˜è®¤æ¨¡å‹ï¼Œå¹³è¡¡æ€§èƒ½å’Œæˆæœ¬ |
| ernie-4.0-turbo-8k | 5120 | ERNIE 4.0 Turboç‰ˆæœ¬ï¼Œå“åº”æ›´å¿« |
| ERNIE-Speed-8K | 5120 | é€Ÿåº¦ä¼˜åŒ–æ¨¡å‹ï¼Œé€‚åˆå¿«é€Ÿå“åº”åœºæ™¯ |
| ERNIE-Lite-8K | 5120 | è½»é‡çº§æ¨¡å‹ï¼Œæˆæœ¬è¾ƒä½ |

**ä»£ç é…ç½®ç¤ºä¾‹**ï¼š
```python
from tradingagents.llm_adapters.openai_compatible_base import create_openai_compatible_llm

# ä½¿ç”¨ernie-4.0-turbo-8kæ¨¡å‹
llm = create_openai_compatible_llm(
    provider="qianfan",
    model="ernie-4.0-turbo-8k",
    temperature=0.1,
    max_tokens=800
)
```

**Section sources**
- [QIANFAN_INTEGRATION_GUIDE.md](file://docs/llm/QIANFAN_INTEGRATION_GUIDE.md#åƒå¸†å¸¸è§æ¨¡å‹ï¼ˆå…¼å®¹æ¨¡å¼ï¼‰)
- [openai_compatible_base.py](file://tradingagents/llm_adapters/openai_compatible_base.py#L458-L462)

### å‚æ•°è°ƒä¼˜æ–¹æ³•

ç³»ç»Ÿæ”¯æŒå¯¹æ¨¡å‹å‚æ•°è¿›è¡Œç²¾ç»†è°ƒä¼˜ï¼Œä»¥æ»¡è¶³ä¸åŒåœºæ™¯çš„éœ€æ±‚ã€‚

**å‚æ•°é…ç½®ç¤ºä¾‹**ï¼š
```python
# å¿«é€Ÿåˆ†ææ¨¡å‹é…ç½®
quick_config = {
    "max_tokens": 4000,
    "temperature": 0.7,
    "timeout": 180
}

# æ·±åº¦åˆ†ææ¨¡å‹é…ç½®
deep_config = {
    "max_tokens": 4000,
    "temperature": 0.7,
    "timeout": 180
}

logger.info(f"ğŸ”§ [åƒå¸†-å¿«é€Ÿæ¨¡å‹] max_tokens={quick_max_tokens}, temperature={quick_temperature}, timeout={quick_timeout}s")
logger.info(f"ğŸ”§ [åƒå¸†-æ·±åº¦æ¨¡å‹] max_tokens={deep_max_tokens}, temperature={deep_temperature}, timeout={deep_timeout}s")
```

**å…³é”®å‚æ•°è¯´æ˜**ï¼š
- **temperature**: æ§åˆ¶è¾“å‡ºçš„éšæœºæ€§ï¼Œå€¼è¶Šä½è¶Šç¡®å®šï¼Œå€¼è¶Šé«˜è¶Šæœ‰åˆ›é€ æ€§
- **max_tokens**: é™åˆ¶å“åº”çš„æœ€å¤§tokenæ•°ï¼Œé˜²æ­¢è¿‡é•¿å“åº”
- **timeout**: è®¾ç½®è¯·æ±‚è¶…æ—¶æ—¶é—´ï¼Œé¿å…é•¿æ—¶é—´ç­‰å¾…

**Section sources**
- [trading_graph.py](file://tradingagents/graph/trading_graph.py#L601-L610)
- [QIANFAN_INTEGRATION_GUIDE.md](file://docs/llm/QIANFAN_INTEGRATION_GUIDE.md#ä»£ç å…¥å£ï¼ˆé€‚é…å™¨ï¼‰)

## æ€§èƒ½ä¼˜åŒ–å»ºè®®

### è¿æ¥æ± é…ç½®

ç³»ç»Ÿé€šè¿‡ä»¥ä¸‹æœºåˆ¶ä¼˜åŒ–è¿æ¥æ€§èƒ½ï¼š

1. **HTTPè¿æ¥æ± **ï¼šä½¿ç”¨requestsåº“çš„Sessionå¯¹è±¡å¤ç”¨TCPè¿æ¥
2. **å¼‚æ­¥æ‰§è¡Œ**ï¼šåœ¨é…ç½®æµ‹è¯•ç­‰è€—æ—¶æ“ä½œä¸­ä½¿ç”¨çº¿ç¨‹æ± 
3. **è¿æ¥è¶…æ—¶è®¾ç½®**ï¼šåˆç†è®¾ç½®è¿æ¥å’Œè¯»å–è¶…æ—¶ï¼Œé¿å…èµ„æºæµªè´¹

```python
# åœ¨é…ç½®æœåŠ¡ä¸­ä½¿ç”¨çº¿ç¨‹æ± æ‰§è¡ŒAPIæµ‹è¯•
response = await asyncio.get_event_loop().run_in_executor(
    None, self._test_qianfan_api, api_key, display_name
)
```

**Section sources**
- [config_service.py](file://app/services/config_service.py#L3341)
- [config_service.py](file://app/services/config_service.py#L3833-L3855)

### å“åº”ç¼“å­˜ç­–ç•¥

ç³»ç»Ÿå®ç°äº†å¤šå±‚ç¼“å­˜ç­–ç•¥æ¥æé«˜æ€§èƒ½ï¼š

1. **è¾“å…¥æˆªæ–­ç¼“å­˜**ï¼šå¯¹è¿‡é•¿çš„è¾“å…¥æ¶ˆæ¯è¿›è¡Œæ™ºèƒ½æˆªæ–­
2. **ç»“æœç¼“å­˜**ï¼šå¯¹é‡å¤çš„è¯·æ±‚ç»“æœè¿›è¡Œç¼“å­˜
3. **è¿æ¥ä¿¡æ¯ç¼“å­˜**ï¼šç¼“å­˜æœ‰æ•ˆçš„APIè¿æ¥çŠ¶æ€

**è¾“å…¥æˆªæ–­é€»è¾‘**ï¼š
```python
def _truncate_messages(self, messages: List[BaseMessage], max_tokens: int = 4500) -> List[BaseMessage]:
    """æˆªæ–­æ¶ˆæ¯ä»¥é€‚åº”åƒå¸†æ¨¡å‹çš„tokené™åˆ¶"""
    truncated_messages = []
    total_tokens = 0
    
    # ä»æœ€åä¸€æ¡æ¶ˆæ¯å¼€å§‹ï¼Œå‘å‰ä¿ç•™æ¶ˆæ¯
    for message in reversed(messages):
        content = str(message.content) if hasattr(message, 'content') else str(message)
        message_tokens = self._estimate_tokens(content)
        
        if total_tokens + message_tokens <= max_tokens:
            truncated_messages.insert(0, message)
            total_tokens += message_tokens
        else:
            # å¦‚æœæ˜¯ç¬¬ä¸€æ¡æ¶ˆæ¯ä¸”è¶…é•¿ï¼Œè¿›è¡Œå†…å®¹æˆªæ–­
            if not truncated_messages:
                remaining_tokens = max_tokens - 100  # é¢„ç•™100ä¸ªtoken
                max_chars = remaining_tokens * 2  # 2å­—ç¬¦/token
                truncated_content = content[:max_chars] + "...(å†…å®¹å·²æˆªæ–­)"
                
                # åˆ›å»ºæˆªæ–­åçš„æ¶ˆæ¯
                if hasattr(message, 'content'):
                    message.content = truncated_content
                truncated_messages.insert(0, message)
            break
    
    if len(truncated_messages) < len(messages):
        logger.warning(f"âš ï¸ åƒå¸†æ¨¡å‹è¾“å…¥è¿‡é•¿ï¼Œå·²æˆªæ–­ {len(messages) - len(truncated_messages)} æ¡æ¶ˆæ¯")
    
    return truncated_messages
```

**Section sources**
- [openai_compatible_base.py](file://tradingagents/llm_adapters/openai_compatible_base.py#L311-L341)

## æ•…éšœè½¬ç§»æœºåˆ¶

### é”™è¯¯å¤„ç†ä¸é‡è¯•

ç³»ç»Ÿå®ç°äº†å®Œå–„çš„é”™è¯¯å¤„ç†æœºåˆ¶ï¼š

1. **è®¤è¯é”™è¯¯**ï¼šæ£€æµ‹401çŠ¶æ€ç ï¼Œæç¤ºAPIå¯†é’¥æ— æ•ˆ
2. **æƒé™é”™è¯¯**ï¼šæ£€æµ‹403çŠ¶æ€ç ï¼Œæç¤ºé…é¢ç”¨å®Œæˆ–æƒé™ä¸è¶³
3. **ç½‘ç»œé”™è¯¯**ï¼šæ•è·ç½‘ç»œå¼‚å¸¸ï¼Œå®ç°é€€é¿é‡è¯•

**é”™è¯¯å¤„ç†ç¤ºä¾‹**ï¼š
```python
if response.status_code == 401:
    return {
        "success": False,
        "message": f"{display_name} APIå¯†é’¥æ— æ•ˆæˆ–å·²è¿‡æœŸ"
    }
elif response.status_code == 403:
    return {
        "success": False,
        "message": f"{display_name} APIæƒé™ä¸è¶³æˆ–é…é¢å·²ç”¨å®Œ"
    }
```

**Section sources**
- [config_service.py](file://app/services/config_service.py#L3876-L3885)

### ä¸å…¶ä»–LLMæä¾›å•†çš„ä¼˜å…ˆçº§åè°ƒ

ç³»ç»Ÿæ”¯æŒå¤šLLMæä¾›å•†çš„ä¼˜å…ˆçº§åè°ƒæœºåˆ¶ï¼š

1. **é…ç½®ä¼˜å…ˆçº§**ï¼šé€šè¿‡Webç•Œé¢è®¾ç½®ä¸åŒæä¾›å•†çš„ä¼˜å…ˆçº§
2. **è‡ªåŠ¨æ•…éšœè½¬ç§»**ï¼šå½“é¦–é€‰æä¾›å•†ä¸å¯ç”¨æ—¶ï¼Œè‡ªåŠ¨åˆ‡æ¢åˆ°å¤‡é€‰æä¾›å•†
3. **æ€§èƒ½ç›‘æ§**ï¼šå®æ—¶ç›‘æ§å„æä¾›å•†çš„å“åº”æ—¶é—´å’ŒæˆåŠŸç‡

**ä¼˜å…ˆçº§åè°ƒæµç¨‹**ï¼š
```mermaid
flowchart TD
Start([å¼€å§‹LLMè°ƒç”¨]) --> CheckPrimary["æ£€æŸ¥ä¸»æä¾›å•†çŠ¶æ€"]
CheckPrimary --> PrimaryAvailable{"ä¸»æä¾›å•†å¯ç”¨?"}
PrimaryAvailable --> |æ˜¯| UsePrimary["ä½¿ç”¨ä¸»æä¾›å•†"]
PrimaryAvailable --> |å¦| CheckSecondary["æ£€æŸ¥å¤‡æä¾›å•†çŠ¶æ€"]
CheckSecondary --> SecondaryAvailable{"å¤‡æä¾›å•†å¯ç”¨?"}
SecondaryAvailable --> |æ˜¯| UseSecondary["ä½¿ç”¨å¤‡æä¾›å•†"]
SecondaryAvailable --> |å¦| Fallback["ä½¿ç”¨é»˜è®¤æä¾›å•†æˆ–è¿”å›é”™è¯¯"]
UsePrimary --> End([å®Œæˆ])
UseSecondary --> End
Fallback --> End
```

**Section sources**
- [config_service.py](file://app/services/config_service.py#L3876-L3898)
- [error_formatter.py](file://app/utils/error_formatter.py#L220-L241)

## ç»“è®º

åƒå¸†å¤§æ¨¡å‹çš„é…ç½®é€šè¿‡ç»Ÿä¸€çš„OpenAIå…¼å®¹é€‚é…å™¨å®ç°ï¼Œç®€åŒ–äº†é›†æˆæµç¨‹ã€‚æ¨èä½¿ç”¨API Keyæ–¹å¼è¿›è¡Œè®¤è¯ï¼Œé¿å…äº†ä¼ ç»ŸAK/SKæ–¹å¼çš„å¤æ‚æ€§ã€‚

ç³»ç»Ÿæä¾›äº†å®Œå–„çš„æ€§èƒ½ä¼˜åŒ–å’Œæ•…éšœè½¬ç§»æœºåˆ¶ï¼ŒåŒ…æ‹¬è¿æ¥æ± ç®¡ç†ã€å“åº”ç¼“å­˜ã€æ™ºèƒ½é”™è¯¯å¤„ç†å’Œå¤šæä¾›å•†ä¼˜å…ˆçº§åè°ƒã€‚è¿™äº›æœºåˆ¶ç¡®ä¿äº†ç³»ç»Ÿçš„é«˜å¯ç”¨æ€§å’Œç¨³å®šæ€§ã€‚

é€šè¿‡Webç•Œé¢å’Œç¯å¢ƒå˜é‡åŒé‡é…ç½®æ–¹å¼ï¼Œç³»ç»Ÿæ—¢æ»¡è¶³äº†å¼€å‘è€…çš„çµæ´»æ€§éœ€æ±‚ï¼Œåˆä¿è¯äº†ç”Ÿäº§ç¯å¢ƒçš„å®‰å…¨æ€§ã€‚å»ºè®®ç”¨æˆ·ä¼˜å…ˆä½¿ç”¨Webç•Œé¢è¿›è¡Œé…ç½®ï¼Œä»¥ä¾¿è·å¾—æ›´å¥½çš„ç”¨æˆ·ä½“éªŒå’Œé”™è¯¯æç¤ºã€‚

**Section sources**
- [QIANFAN_INTEGRATION_GUIDE.md](file://docs/llm/QIANFAN_INTEGRATION_GUIDE.md#æ¦‚è¿°)
- [openai_compatible_base.py](file://tradingagents/llm_adapters/openai_compatible_base.py#L243-L303)